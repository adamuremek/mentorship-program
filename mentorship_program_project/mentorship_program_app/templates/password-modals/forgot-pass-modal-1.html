<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Title</title>
    <style>
        /* CSS styles */
        .modal-footer-container {
            margin-top: 20px;
        }

        .submit-buttons {
            background-color: #007bff; /* Blue background color */
            color: white; /* White text color */
            border: none; /* No border */
            border-radius: 5px; /* Rounded corners */
            padding: 10px 20px; /* Padding */
            cursor: pointer; /* Cursor on hover */
            margin-top: 10px; /* Add margin between the button and the input field */
        }

        .submit-buttons:hover {
            background-color: #0056b3; /* Darker blue on hover */
        }
    </style>
</head>
<body>

<dialog class="modal" id="forgot-pass-modal-1">
    <header class="modal-header"><img src="../static/images/x-16.png" alt="exit" class="modal-exit" id="modal-exit" tabindex="0"></header>

    <div class="modal-container">        
        <div class="modal-content-container">
            <h2>Recover Account</h2>
            <div class="modal-line"><hr></div>
            <p>Enter the email associated with your account to change your password.</p>
            <p>Email:</p>
            
        </div>
        <div class="modal-footer-container">
            <form id="frm-reset-password" action="/request_reset" method="POST">
                {% csrf_token %}
                <input type="email" id="reset-email" class="user-input" name="email" placeholder="e.g. john.doe@svsu.edu" />
                <button class="li-buttons submit-buttons" id="pass-reset" type="submit">Send Confirmation Code</button>
            </form>
        </div>
    </div>
</dialog>

</body>
</html>

<script>
    const input_email = document.getElementById('reset-email')
    const regex_svsu = /^[^\s@]+@svsu[.]edu$/ 
    const regex_svsu_domain = /@svsu\.edu$/
    const regex_email = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
    let is_student = true //placeholder, try using django stuff later

    input_email.addEventListener("input", e => {

        //determine is email is student's email based on if it is an SVSU domain, if email is any other domain that must mean they are a mentor
        is_student = regex_svsu_domain.test(e.target.value)

        let regex_custom
        if(is_student)
            regex_custom = regex_svsu
        else
            regex_custom = regex_email

        const regex_result = regex_custom.test(e.target.value)

        //change background color green if correct email format, red if incorrect email format
        if(regex_result)
            input_email.style.backgroundColor = 'forestgreen'
        else
            input_email.style.backgroundColor = 'firebrick'
    })
</script>